<?xml version="1.0" encoding="UTF-8"?>

<UTQLPatternTemplates xmlns='http://ar.in.tum.de/ubitrack/utql'
                      xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
                      xmlns:xi='http://www.w3.org/2001/XInclude'
                      xmlns:h="http://www.w3.org/1999/xhtml"
                      xsi:schemaLocation='http://ar.in.tum.de/ubitrack/utql ../../../schema/utql_templates.xsd'>
    
    <Pattern name="MarkerModuleConfiguration" displayName="Optical Square-Marker Tracker (Module Configuration)">
        <Description>
            <h:p>Configuration node for various
                <h:code>Marker Tracker XXX</h:code> patterns, has to be unified with the
                <h:code>Camera</h:code> node.
            </h:p>
        </Description>
        <Output>
            <Node name="Camera" displayName="Camera">
                <Attribute name="markerIdMask" displayName="ID Mask" default="0xFFFF" xsi:type="StringAttributeDeclarationType">
                    <Description>
                        <h:p>Bitmask that is ANDed with the ID detected in the image to obtain the
                            <h:code>Marker ID</h:code>. Useful to define general purpose areas inside a marker.
                        </h:p>
                    </Description>
                </Attribute>
                <Attribute name="markerBitSize" displayName="Marker Bit Size" default="6" xsi:type="IntAttributeDeclarationType">
                    <Description>
                        <h:p>Marker size including its border, counted in bits</h:p>
                    </Description>
                </Attribute>
                <Attribute name="codeBitSize" displayName="Code Bit Size" default="4" xsi:type="IntAttributeDeclarationType">
                    <Description>
                        <h:p>Size of ID area inside the marker, counted in bits</h:p>
                    </Description>
                </Attribute>
                <Attribute name="enableInnerEdgels" displayName="Enable inner edgelets" default="true" xsi:type="EnumAttributeDeclarationType">
                    <Description>
                        <h:p>
			Use inner edgelets for pose refinement. Enabling this may result in unstable pose estimation!
                        </h:p>
                    </Description>
                    <EnumValue name="false" displayName="False"/>
                    <EnumValue name="true"  displayName="True"/>
                </Attribute>
            </Node>
        </Output>
    </Pattern>

    <Pattern name="MarkerTrackerUncalibrated" displayName="Optical Square-Marker Tracker (Uncalibrated)">
        <Description>
            <h:p>Detects a marker in a grey-scale image and computes the pose.
			No camera calibration is used. However, the default settings will provide a somewhat 
			correct-looking result when used with the renderer default-settings, even if the numbers
			are wrong.
            </h:p>
        </Description>
        <Input>
            <Node name="Camera" displayName="Camera"/>
            <Node name="ImagePlane" displayName="Image Plane"/>
            <Edge name="Image" displayName="Image" source="Camera" destination="ImagePlane" >
                <Description>
                    <h:p>Greyscale input image.</h:p>
                </Description>
                <Predicate>type=='Image'&amp;&amp;mode=='push'</Predicate>
            </Edge>
        </Input>
        <Output>
            <Node name="Marker" displayName="Marker">
                <Attribute name="markerId" displayName="Marker ID" default="0x272" xsi:type="StringAttributeDeclarationType">
                    <Description>
                        <h:p>Marker ID in Hex, e.g. 0x272. Attention: This ID is used as the module key for the marker tracker algorithm. It must be unique, otherwise deceptive error messages will occur.</h:p>
                    </Description>
                </Attribute>
                <Attribute name="markerSize" displayName="Marker Size" default="0.06" xsi:type="DoubleAttributeDeclarationType">
                    <Description>
                        <h:p>Marker size in m, e.g. 0.06.</h:p>
                    </Description>
                </Attribute>
            </Node>
            <Edge name="Output" source="Camera" destination="Marker" displayName="Marker Pose">
                <Description>
                    <h:p>Pose of marker with respect to camera.</h:p>
                </Description>
                <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
            <Edge name="DebugImage" source="Camera" destination="ImagePlane" displayName="Debug Image">
                <Description>
                    <h:p>Debug Image to visualize marker tracker.</h:p>
                </Description>
                <Attribute name="type" value="Image" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
        </Output>
        
        <DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
			
            <Attribute name="enableThreading" displayName="Enable threading" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables Running the marker tracking in a seperate thread.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableTracking" displayName="Enable tracking" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables incremental tracking of the marker which can handle some amount of occlusion.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enablePixelFlow" displayName="Enable pixel flow" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables pixel flow for pose prediction. Can handle faster motions and even more occlusion, but 
					will not track orientation.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableFlipCheck" displayName="Enable flip check" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Checks whether the flipped pose of the marker is better. Requires more processing time, but is often more robust.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableFastTracking" displayName="Enable fast tracking" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					This option is only valid when tracking is enabled!
                        <h:br/>
                        <h:b>True:</h:b>
					Tries to find the marker first by incremental tracking and only performs a full scan when
					the marker is not found. Requires less processing time, but has problems with flipped poses.
                        <h:br/>
                        <h:b>False:</h:b>
					First does a full scan and only uses incremental tracking for markers that have been occluded.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
		   <Attribute name="enableAdaptiveThreshold" displayName="Enable adaptive Thresholding" default="true" xsi:type="EnumAttributeDeclarationType">
					<Description>
						<h:p>
						For tracking on mobile devices, using adaptive thresholding slows down the application
							<h:br/>
							<h:b>True:</h:b>
						Adaptive Thresholding is used for Thresholding the Image
							<h:br/>
							<h:b>False:</h:b>
						Binary Threshold with the specified binaryThresholdValue is used for Thresholding the Image
						</h:p>
					</Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
		</Attribute>
		<Attribute name="ThresholdValue" min="0" max = "255" default="120" xsi:type="IntAttributeDeclarationType" displayName="ThresholdValue">
				<Description>
					<h:p>If adaptive Thresholding is disabled, binary Thresholding is used with the specified threshold. This value is ignored, if adaptive Thresholding is enabled.</h:p>
				</Description>
	    </Attribute>
        </DataflowConfiguration>
    </Pattern>
    
    <Pattern name="MarkerTrackerCalibrated" displayName="Deprecated: Optical Square-Marker Tracker (Calibrated)">
        <Description>
            <h:p>Please use the new pattern with the 3x3 intrinsic matrix pointing into the other direction. Detects a marker in a grey-scale image and computes the pose.
			Intrinsic camera calibration is used. 
            </h:p>
        </Description>
        <Input>
            <Node name="Camera" displayName="Camera"/>
            <Node name="ImagePlane" displayName="Image Plane"/>
            <Edge name="Image" displayName="Image" source="Camera" destination="ImagePlane" >
                <Description>
                    <h:p>Greyscale input image.</h:p>
                </Description>
                <Predicate>type=='Image'&amp;&amp;mode=='push'</Predicate>
            </Edge>
            <Edge name="CameraIntrinsics" displayName="Intrinsics" source="Camera" destination="ImagePlane" >
                <Description>
                    <h:p>Camera intrinsic matrix.</h:p>
                </Description>
                <Predicate>type=='3x3Matrix'&amp;&amp;mode=='pull'</Predicate>
            </Edge>
        </Input>
        <Output>
            <Node name="Marker" displayName="Marker">
                <Attribute name="markerId" displayName="Marker ID" default="0x272" xsi:type="StringAttributeDeclarationType">
                    <Description>
                        <h:p>Marker ID in Hex, e.g. 0x272. Attention: This ID is used as the module key for the marker tracker algorithm. It must be unique, otherwise deceptive error messages will occur.</h:p>
                    </Description>
                </Attribute>
                <Attribute name="markerSize" displayName="Marker Size" default="0.06" xsi:type="DoubleAttributeDeclarationType">
                    <Description>
                        <h:p>Marker size in m, e.g. 0.06.</h:p>
                    </Description>
                </Attribute>
            </Node>
            <Edge name="Output" source="Camera" destination="Marker" displayName="Marker Pose">
                <Description>
                    <h:p>Pose of marker with respect to camera.</h:p>
                </Description>
                <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
            <Edge name="DebugImage" source="Camera" destination="ImagePlane" displayName="Debug Image">
                <Description>
                    <h:p>Debug Image to visualize marker tracker.</h:p>
                </Description>
                <Attribute name="type" value="Image" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
        </Output>
        
        <DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
			
            <Attribute name="enableThreading" displayName="Enable threading" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables Running the marker tracking in a seperate thread.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableTracking" displayName="Enable tracking" default="true" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables incremental tracking of the marker which can handle some amount of occlusion.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enablePixelFlow" displayName="Enable pixel flow" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables pixel flow for pose prediction. Can handle faster motions and even more occlusion, but 
					will not track orientation.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableFlipCheck" displayName="Enable flip check" default="true" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Checks whether the flipped pose of the marker is better. Requires more processing time, but is often more robust.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableFastTracking" displayName="Enable fast tracking" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					This option is only valid when tracking is enabled!
                        <h:br/>
                        <h:b>True:</h:b>
					Tries to find the marker first by incremental tracking and only performs a full scan when
					the marker is not found. Requires less processing time, but has problems with flipped poses.
                        <h:br/>
                        <h:b>False:</h:b>
					First does a full scan and only uses incremental tracking for markers that have been occluded.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
		   <Attribute name="enableAdaptiveThreshold" displayName="Enable adaptive Thresholding" default="true" xsi:type="EnumAttributeDeclarationType">
					<Description>
						<h:p>
						For tracking on mobile devices, using adaptive thresholding slows down the application
							<h:br/>
							<h:b>True:</h:b>
						Adaptive Thresholding is used for Thresholding the Image
							<h:br/>
							<h:b>False:</h:b>
						Binary Threshold with the specified binaryThresholdValue is used for Thresholding the Image
						</h:p>
					</Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
				</Attribute>
				<Attribute name="ThresholdValue" min="0" max = "255" default="120" xsi:type="IntAttributeDeclarationType" displayName="ThresholdValue">
				<Description>
					<h:p>If adaptive Thresholding is disabled, binary Thresholding is used with the specified threshold. This value is ignored, if adaptive Thresholding is enabled.</h:p>
				</Description>
	    </Attribute>
        </DataflowConfiguration>
    </Pattern>
	
	<Pattern name="CalibratedMarkerTracker" displayName="Optical Square-Marker Tracker (Calibrated)">
        <Description>
            <h:p>Detects a marker in a grey-scale image and computes the pose.
			Intrinsic camera calibration is used. 
            </h:p>
        </Description>
        <Input>
            <Node name="Camera" displayName="Camera"/>
            <Node name="ImagePlane" displayName="Image Plane"/>
            <Edge name="Image" displayName="Image" source="Camera" destination="ImagePlane" >
                <Description>
                    <h:p>Greyscale input image.</h:p>
                </Description>
                <Predicate>type=='Image'&amp;&amp;mode=='push'</Predicate>
            </Edge>
            <Edge name="CameraIntrinsics" displayName="Intrinsics" source="ImagePlane" destination="Camera" >
                <Description>
                    <h:p>Camera intrinsic matrix.</h:p>
                </Description>
                <Predicate>type=='3x3Matrix'&amp;&amp;mode=='pull'</Predicate>
            </Edge>
        </Input>
        <Output>
            <Node name="Marker" displayName="Marker">
                <Attribute name="markerId" displayName="Marker ID" default="0x272" xsi:type="StringAttributeDeclarationType">
                    <Description>
                        <h:p>Marker ID in Hex, e.g. 0x272. Attention: This ID is used as the module key for the marker tracker algorithm. It must be unique, otherwise deceptive error messages will occur.</h:p>
                    </Description>
                </Attribute>
                <Attribute name="markerSize" displayName="Marker Size" default="0.06" xsi:type="DoubleAttributeDeclarationType">
                    <Description>
                        <h:p>Marker size in m, e.g. 0.06.</h:p>
                    </Description>
                </Attribute>
            </Node>
            <Edge name="Output" source="Camera" destination="Marker" displayName="Marker Pose">
                <Description>
                    <h:p>Pose of marker with respect to camera.</h:p>
                </Description>
                <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
            <Edge name="DebugImage" source="Camera" destination="ImagePlane" displayName="Debug Image">
                <Description>
                    <h:p>Debug Image to visualize marker tracker.</h:p>
                </Description>
                <Attribute name="type" value="Image" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
        </Output>
        
        <DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
			
            <Attribute name="enableTracking" displayName="Enable tracking" default="true" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables incremental tracking of the marker which can handle some amount of occlusion.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enablePixelFlow" displayName="Enable pixel flow" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables pixel flow for pose prediction. Can handle faster motions and even more occlusion, but 
					will not track orientation.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableFlipCheck" displayName="Enable flip check" default="true" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Checks whether the flipped pose of the marker is better. Requires more processing time, but is often more robust.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableFastTracking" displayName="Enable fast tracking" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					This option is only valid when tracking is enabled!
                        <h:br/>
                        <h:b>True:</h:b>
					Tries to find the marker first by incremental tracking and only performs a full scan when
					the marker is not found. Requires less processing time, but has problems with flipped poses.
                        <h:br/>
                        <h:b>False:</h:b>
					First does a full scan and only uses incremental tracking for markers that have been occluded.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
		   
        </DataflowConfiguration>
    </Pattern>
    
    <Pattern name="MarkerTrackerError" displayName="Deprecated: Optical Square-Marker Tracker (with Error Estimation)">
        <Description>
            <h:p>Please use the new pattern with the 3x3 intrinsic matrix pointing into the other direction. Detects a marker in a grey-scale image and computes the pose.
			Additionally, the 6DOF-covariance is computed using error propagation. 
            </h:p>
        </Description>
        <Input>
            <Node name="Camera" displayName="Camera"/>
            <Node name="ImagePlane" displayName="Image Plane"/>
            <Edge name="Image" displayName="Image" source="Camera" destination="ImagePlane" >
                <Description>
                    <h:p>Greyscale input image.</h:p>
                </Description>
                <Predicate>type=='Image'&amp;&amp;mode=='push'</Predicate>
            </Edge>
            <Edge name="CameraIntrinsics" displayName="Intrinsics" source="Camera" destination="ImagePlane" >
                <Description>
                    <h:p>Camera intrinsic matrix.</h:p>
                </Description>
                <Predicate>type=='3x3Matrix'&amp;&amp;mode=='pull'</Predicate>
            </Edge>
        </Input>
        <Output>
            <Node name="Marker" displayName="Marker">
                <Attribute name="markerId" displayName="Marker ID" default="0x272" xsi:type="StringAttributeDeclarationType">
                    <Description>
                        <h:p>Marker ID in Hex, e.g. 0x272. Attention: This ID is used as the module key for the marker tracker algorithm. It must be unique, otherwise deceptive error messages will occur.</h:p>
                    </Description>
                </Attribute>
                <Attribute name="markerSize" displayName="Marker Size" default="0.06" xsi:type="DoubleAttributeDeclarationType">
                    <Description>
                        <h:p>Marker size in m, e.g. 0.06.</h:p>
                    </Description>
                </Attribute>
            </Node>
            <Edge name="ErrorPose" source="Camera" destination="Marker" displayName="Marker Pose+Error">
                <Description>
                    <h:p>Pose of marker with respect to camera.</h:p>
                </Description>
                <Attribute name="type" value="6DError" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
            <Edge name="DebugImage" source="Camera" destination="ImagePlane" displayName="Debug Image">
                <Description>
                    <h:p>Debug Image to visualize marker tracker.</h:p>
                </Description>
                <Attribute name="type" value="Image" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
        </Output>
        
        <DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
			
            <Attribute name="enableTracking" displayName="Enable tracking" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables incremental tracking of the marker which can handle some amount of occlusion.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enablePixelFlow" displayName="Enable pixel flow" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables pixel flow for pose prediction. Can handle faster motions and even more occlusion, but 
					will not track orientation.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableFlipCheck" displayName="Enable flip check" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Checks whether the flipped pose of the marker is better. Requires more processing time, but is often more robust.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableFastTracking" displayName="Enable fast tracking" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					This option is only valid when tracking is enabled!
                        <h:br/>
                        <h:b>True:</h:b>
					Tries to find the marker first by incremental tracking and only performs a full scan when
					the marker is not found. Requires less processing time, but has problems with flipped poses.
                        <h:br/>
                        <h:b>False:</h:b>
					First does a full scan and only uses incremental tracking for markers that have been occluded.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
			
        </DataflowConfiguration>
    </Pattern>
	
	<Pattern name="ErrorMarkerTracker" displayName="Optical Square-Marker Tracker (with Error Estimation)">
        <Description>
            <h:p>Detects a marker in a grey-scale image and computes the pose.
			Additionally, the 6DOF-covariance is computed using error propagation. 
            </h:p>
        </Description>
        <Input>
            <Node name="Camera" displayName="Camera"/>
            <Node name="ImagePlane" displayName="Image Plane"/>
            <Edge name="Image" displayName="Image" source="Camera" destination="ImagePlane" >
                <Description>
                    <h:p>Greyscale input image.</h:p>
                </Description>
                <Predicate>type=='Image'&amp;&amp;mode=='push'</Predicate>
            </Edge>
            <Edge name="CameraIntrinsics" displayName="Intrinsics" source="ImagePlane" destination="Camera" >
                <Description>
                    <h:p>Camera intrinsic matrix.</h:p>
                </Description>
                <Predicate>type=='3x3Matrix'&amp;&amp;mode=='pull'</Predicate>
            </Edge>
        </Input>
        <Output>
            <Node name="Marker" displayName="Marker">
                <Attribute name="markerId" displayName="Marker ID" default="0x272" xsi:type="StringAttributeDeclarationType">
                    <Description>
                        <h:p>Marker ID in Hex, e.g. 0x272. Attention: This ID is used as the module key for the marker tracker algorithm. It must be unique, otherwise deceptive error messages will occur.</h:p>
                    </Description>
                </Attribute>
                <Attribute name="markerSize" displayName="Marker Size" default="0.06" xsi:type="DoubleAttributeDeclarationType">
                    <Description>
                        <h:p>Marker size in m, e.g. 0.06.</h:p>
                    </Description>
                </Attribute>
            </Node>
            <Edge name="ErrorPose" source="Camera" destination="Marker" displayName="Marker Pose+Error">
                <Description>
                    <h:p>Pose of marker with respect to camera.</h:p>
                </Description>
                <Attribute name="type" value="6DError" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
            <Edge name="DebugImage" source="Camera" destination="ImagePlane" displayName="Debug Image">
                <Description>
                    <h:p>Debug Image to visualize marker tracker.</h:p>
                </Description>
                <Attribute name="type" value="Image" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
        </Output>
        
        <DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
			
            <Attribute name="enableTracking" displayName="Enable tracking" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables incremental tracking of the marker which can handle some amount of occlusion.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enablePixelFlow" displayName="Enable pixel flow" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables pixel flow for pose prediction. Can handle faster motions and even more occlusion, but 
					will not track orientation.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableFlipCheck" displayName="Enable flip check" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Checks whether the flipped pose of the marker is better. Requires more processing time, but is often more robust.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableFastTracking" displayName="Enable fast tracking" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					This option is only valid when tracking is enabled!
                        <h:br/>
                        <h:b>True:</h:b>
					Tries to find the marker first by incremental tracking and only performs a full scan when
					the marker is not found. Requires less processing time, but has problems with flipped poses.
                        <h:br/>
                        <h:b>False:</h:b>
					First does a full scan and only uses incremental tracking for markers that have been occluded.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
			<Attribute name="enableAdaptiveThreshold" displayName="Enable adaptive Thresholding" default="true" xsi:type="EnumAttributeDeclarationType">
					<Description>
						<h:p>
						For tracking on mobile devices, using adaptive thresholding slows down the application
							<h:br/>
							<h:b>True:</h:b>
						Adaptive Thresholding is used for Thresholding the Image
							<h:br/>
							<h:b>False:</h:b>
						Binary Threshold with the specified binaryThresholdValue is used for Thresholding the Image
						</h:p>
					</Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
				</Attribute>
				<Attribute name="ThresholdValue" min="0" max = "255" default="120" xsi:type="IntAttributeDeclarationType" displayName="ThresholdValue">
				<Description>
					<h:p>If adaptive Thresholding is disabled, binary Thresholding is used with the specified threshold. This value is ignored, if adaptive Thresholding is enabled.</h:p>
				</Description>
	    </Attribute>
        </DataflowConfiguration>
    </Pattern>
    
    <Pattern name="MarkerTrackerCorners" displayName="Optical Square-Marker Tracker (2D Corners Only)">
        <Description>
            <h:p>Detects markers and computes the 2D-position of the four corners in the image.</h:p>
        </Description>
        <Input>
            <Node name="Camera" displayName="Camera"/>
            <Node name="ImagePlane" displayName="Image Plane"/>
            <Edge name="Image" displayName="Image" source="Camera" destination="ImagePlane" >
                <Description>
                    <h:p>Greyscale input image.</h:p>
                </Description>
                <Predicate>type=='Image'&amp;&amp;mode=='push'</Predicate>
            </Edge>
        </Input>
        <Output>
            <Node name="Marker" displayName="Marker">
                <Attribute name="markerId" displayName="Marker ID" default="0x272" xsi:type="StringAttributeDeclarationType">
                    <Description>
                        <h:p>Marker ID in Hex, e.g. 0x272.</h:p>
                    </Description>
                </Attribute>
                <Attribute name="markerSize" displayName="Marker Size" default="0.06" xsi:type="DoubleAttributeDeclarationType">
                    <Description>
                        <h:p>Marker size in m, e.g. 0.06.</h:p>
                    </Description>
                </Attribute>
            </Node>
            <Edge name="Corners" source="ImagePlane" destination="Marker" displayName="Marker Corners">
                <Description>
                    <h:p>Image coordinates of marker corners.</h:p>
                </Description>
                <Attribute name="type" value="2DPositionList" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
            <Edge name="DebugImage" source="Camera" destination="ImagePlane" displayName="Debug Image">
                <Description>
                    <h:p>Debug Image to visualize marker tracker.</h:p>
                </Description>
                <Attribute name="type" value="Image" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
        </Output>
        
        <DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
			
            <Attribute name="enableTracking" displayName="Enable tracking" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables incremental tracking of the marker which can handle some amount of occlusion.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enablePixelFlow" displayName="Enable pixel flow" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Enables pixel flow for pose prediction. Can handle faster motions and even more occlusion, but 
					will not track orientation.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableFlipCheck" displayName="Enable flip check" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					Checks whether the flipped pose of the marker is better. Requires more processing time, but is often more robust.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
            <Attribute name="enableFastTracking" displayName="Enable fast tracking" default="false" xsi:type="EnumAttributeDeclarationType">
                <Description>
                    <h:p>
					This option is only valid when tracking is enabled!
                        <h:br/>
                        <h:b>True:</h:b>
					Tries to find the marker first by incremental tracking and only performs a full scan when
					the marker is not found. Requires less processing time, but has problems with flipped poses.
                        <h:br/>
                        <h:b>False:</h:b>
					First does a full scan and only uses incremental tracking for markers that have been occluded.
                    </h:p>
                </Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
            </Attribute>
			<Attribute name="enableAdaptiveThreshold" displayName="Enable adaptive Thresholding" default="true" xsi:type="EnumAttributeDeclarationType">
					<Description>
						<h:p>
						For tracking on mobile devices, using adaptive thresholding slows down the application
							<h:br/>
							<h:b>True:</h:b>
						Adaptive Thresholding is used for Thresholding the Image
							<h:br/>
							<h:b>False:</h:b>
						Binary Threshold with the specified binaryThresholdValue is used for Thresholding the Image
						</h:p>
					</Description>
                <EnumValue name="false" displayName="False"/>
                <EnumValue name="true"  displayName="True"/>
				</Attribute>
				<Attribute name="ThresholdValue" min="0" max = "255" default="120" xsi:type="IntAttributeDeclarationType" displayName="ThresholdValue">
				<Description>
					<h:p>If adaptive Thresholding is disabled, binary Thresholding is used with the specified threshold. This value is ignored, if adaptive Thresholding is enabled.</h:p>
				</Description>
	    </Attribute>
        </DataflowConfiguration>
    </Pattern>
	
	
	<!-- new (experimental) patterns start here -->
	
	<Pattern name="MarkerTrackerCorner" displayName="Experimental: Optical Square-Marker Tracker (2D Corners)">
        <Description>
            <h:p>Detects markers and computes the 2D-position of the four corners in the image.</h:p>
        </Description>
        <Output>
			<Node name="ImagePlane" displayName="Image Plane"/>
            <Node name="Marker" displayName="Marker">
                <Attribute name="markerId" displayName="Marker ID" default="0x272" xsi:type="StringAttributeDeclarationType">
                    <Description>
                        <h:p>Marker ID in Hex, e.g. 0x272. Attention: This ID is used as the module key for the marker tracker algorithm. It must be unique, otherwise deceptive error messages will occur.</h:p>
                    </Description>
                </Attribute>
                <Attribute name="markerSize" displayName="Marker Size" default="0.06" xsi:type="DoubleAttributeDeclarationType">
                    <Description>
                        <h:p>Marker size, expected as meter, e.g. 0.06.</h:p>
                    </Description>
                </Attribute>
            </Node>
            <Edge name="Corners" source="ImagePlane" destination="Marker" displayName="Marker Corners">
                <Description>
                    <h:p>Image coordinates of marker corners. Order of the corners is clockwise, starting in the left lower corner of the marker.</h:p>
                </Description>
                <Attribute name="type" value="2DPositionList" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
        </Output>
        <DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
        </DataflowConfiguration>
    </Pattern>
	
	<Pattern name="MarkerTrackerPose" displayName="Experimental: Optical Square-Marker Tracker">
        <Description>
            <h:p>Detects a marker in a provided image and computes the pose.
			No camera calibration is used. However, the default settings will provide a somewhat 
			correct-looking result when used with the renderer default-settings, even if the numbers
			are wrong.
            </h:p>
        </Description>
        <Output>
			<Node name="Camera" displayName="Camera"/>
            <Node name="Marker" displayName="Marker">
                <Attribute name="markerId" displayName="Marker ID" default="0x272" xsi:type="StringAttributeDeclarationType">
                    <Description>
                        <h:p>Marker ID in Hex, e.g. 0x272. Attention: This ID is used as the module key for the marker tracker algorithm. It must be unique, otherwise deceptive error messages will occur.</h:p>
                    </Description>
                </Attribute>
                <Attribute name="markerSize" displayName="Marker Size" default="0.06" xsi:type="DoubleAttributeDeclarationType">
                    <Description>
                        <h:p>Marker size, expected as meter, e.g. 0.06.</h:p>
                    </Description>
                </Attribute>
            </Node>
            <Edge name="Output" source="Camera" destination="Marker" displayName="Marker Pose">
                <Description>
                    <h:p>Pose of marker with respect to camera.</h:p>
                </Description>
                <Attribute name="type" value="6D" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
        </Output>
        <DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
        </DataflowConfiguration>
    </Pattern>
	
	<Pattern name="MarkerTrackerErrorPose" displayName="Experimental: Optical Square-Marker Tracker (with Error Estimation)">
        <Description>
            <h:p>Detects a marker in a grey-scale image and computes the pose.
			Additionally, the 6DOF-covariance is computed using error propagation. 
            </h:p>
        </Description>
        <Output>
			<Node name="Camera" displayName="Camera"/>
            <Node name="Marker" displayName="Marker">
                <Attribute name="markerId" displayName="Marker ID" default="0x272" xsi:type="StringAttributeDeclarationType">
                    <Description>
                        <h:p>Marker ID in Hex, e.g. 0x272. Attention: This ID is used as the module key for the marker tracker algorithm. It must be unique, otherwise deceptive error messages will occur.</h:p>
                    </Description>
                </Attribute>
                <Attribute name="markerSize" displayName="Marker Size" default="0.06" xsi:type="DoubleAttributeDeclarationType">
                    <Description>
                        <h:p>Marker size, expected as meter, e.g. 0.06.</h:p>
                    </Description>
                </Attribute>
            </Node>
            <Edge name="ErrorPose" source="Camera" destination="Marker" displayName="Marker Pose+Error">
                <Description>
                    <h:p>Pose of marker with respect to camera.</h:p>
                </Description>
                <Attribute name="type" value="6DError" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
        </Output>
        <DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
        </DataflowConfiguration>
    </Pattern>
	
	<Pattern name="MarkerTrackerImage" displayName="Experimental: Optical Square-Marker Tracker Input Image">
        <Description>
            <h:p>This edge can be used to specify the image to which the marker tracker should be applied to.</h:p>
        </Description>
        <Input>
            <Node name="Camera" displayName="Camera"/>
            <Node name="ImagePlane" displayName="Image Plane"/>
            <Edge name="Image" displayName="Input Image" source="Camera" destination="ImagePlane" >
                <Description>
                    <h:p>Greyscale input image of the corresponding marker tracker module.</h:p>
                </Description>
                <Predicate>type=='Image'&amp;&amp;mode=='push'</Predicate>
            </Edge>
        </Input>
		<DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
        </DataflowConfiguration>
    </Pattern>
	
	<Pattern name="MarkerTrackerDebug" displayName="Experimental: Optical Square-Marker Tracker Debug Image">
        <Description>
            <h:p>This edge provides the debug image of the corresponding marker tracker module, when attached to a marker tracker camera node.</h:p>
        </Description>
        <Output>
            <Node name="Camera" displayName="Camera"/>
            <Node name="ImagePlane" displayName="Image Plane"/>
            <Edge name="DebugImage" displayName="Debug Image" source="Camera" destination="ImagePlane" >
                <Description>
                    <h:p>Debug image of the corresponding marker tracker module.</h:p>
                </Description>
                <Attribute name="type" value="Image" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
        </Output>
		<DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
        </DataflowConfiguration>
    </Pattern>
    
	<Pattern name="MarkerTrackerMatrix" displayName="Experimental: Optical Square-Marker Tracker Intrinsic Matrix">
        <Description>
            <h:p>Specifies the camera's 3x3 intrinsic matrix that should be applied to the marker tracker module.
			This intrinsic matrix is valid for all attached markers connected to the same camera node.
            </h:p>
        </Description>
        <Input>
            <Node name="Camera" displayName="Camera"/>
            <Node name="ImagePlane" displayName="Image Plane"/>
            <Edge name="CameraIntrinsics" displayName="3x3 Matrix" source="ImagePlane" destination="Camera" >
                <Description>
                    <h:p>Camera 3x3 intrinsic matrix.</h:p>
                </Description>
                <Predicate>type=='3x3Matrix'&amp;&amp;mode=='pull'</Predicate>
            </Edge>
        </Input>
		<DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
        </DataflowConfiguration>
    </Pattern>
	
	<Pattern name="MultiMarkerTrackerPose" displayName="Experimental: Optical Multi-Marker Tracker ErrorPose">
        <Description>
            <h:p>TODO
            </h:p>
        </Description>
        <Output>
			<Node name="MultiMarker" displayName="MultiMarker">
				<Attribute name="MarkerConfig" displayName="MarkerConfig" xsi:type="PathAttributeDeclarationType">
					<Description><h:p>MarkerConfig</h:p></Description>
				</Attribute>
            </Node>
			<Node name="Camera" displayName="Camera"/>
            <Edge name="ErrorPose" source="Camera" destination="MultiMarker" displayName="Marker Pose+Error">
                <Description>
                    <h:p>Pose of marker with respect to camera.</h:p>
                </Description>
                <Attribute name="type" value="6DError" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
        </Output>
        <DataflowConfiguration>
            <UbitrackLib class="MultiMarkerTracker"/>
        </DataflowConfiguration>
    </Pattern>
	<Pattern name="MultiMarkerTrackerErrorPose+MarkerCorners" displayName="Experimental: Optical Multi-Marker Tracker (ErrorPose + MarkerCorners)">
        <Description>
            <h:p>
            </h:p>
        </Description>
        <Output>
			<Node name="MultiMarker" displayName="MultiMarker">
				<Attribute name="MarkerConfig" displayName="MarkerConfig" xsi:type="PathAttributeDeclarationType">
					<Description><h:p>MarkerConfig</h:p></Description>
				</Attribute>
            </Node>
			<Node name="Camera" displayName="Camera"/>
			<Node name="MarkerCornerPoints" displayName="MarkerCornerPoints">           
            </Node>
            <Edge name="ErrorPose" source="Camera" destination="MultiMarker" displayName="Marker Pose+Error">
                <Description>
                    <h:p>Pose of marker with respect to camera.</h:p>
                </Description>
                <Attribute name="type" value="6DError" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
			<Edge name="Output3DCorners" source="MultiMarker" destination="MarkerCornerPoints" displayName="3D Corners of Markers">               
                <Attribute name="type" value="3DPositionList" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="pull" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
        </Output>
        <DataflowConfiguration>
            <UbitrackLib class="MultiMarkerTracker"/>
        </DataflowConfiguration>
    </Pattern>
	
    <Pattern name="MultiMarkerTrackerErrorPose+Bundle" displayName="Experimental: Optical Multi Square-Marker Tracker (Error Pose + Marker Bundle)">
        <Description>
          
        </Description>
        <Input>
            <Node name="Camera" displayName="Camera"/>           
			
			<Node name="BundleCamera" displayName="BundleCamera"/>
            <Node name="BundleImagePlane" displayName="BundleImagePlane"/>
			
			<Node name="BundleReset" displayName="BundleReset"/>
			<Node name="ButtonReset" displayName="ButtonReset"/>
						
			<Edge name="ImageBundle" displayName="ImageBundle" source="BundleCamera" destination="BundleImagePlane" >
                <Description>
                    <h:p>Greyscale input image.</h:p>
                </Description>
                <Predicate>type=='Image'&amp;&amp;mode=='push'</Predicate>
            </Edge>
            <Edge name="BundleCameraIntrinsics" displayName="BundleCameraIntrinsics" source="BundleCamera" destination="BundleImagePlane" >
                <Predicate>type=='3x3Matrix'&amp;&amp;mode=='pull'</Predicate>
            </Edge>
			
			<Edge name="ResetButton" displayName="ResetButton" source="ButtonReset" destination="BundleReset">
				<Description>
					<h:p>Button to reset the marker bundle and world map.</h:p>
				</Description>
				<Predicate>type=='Button'&amp;&amp;mode=='push'</Predicate>
            </Edge>

        </Input>
        <Output>
            <Node name="MultiMarker" displayName="MultiMarker"> 
                <Attribute name="MarkerConfig" displayName="MarkerConfig" xsi:type="PathAttributeDeclarationType">
					<Description><h:p>MarkerConfig</h:p></Description>
				</Attribute>
            </Node>
			<Node name="MarkerCornerPoints" displayName="MarkerCornerPoints">           
            </Node>
			
            <Edge name="ErrorPose" source="Camera" destination="MultiMarker" displayName="Marker Pose+Error">
                <Description>
                    <h:p>Pose of marker with respect to camera.</h:p>
                </Description>
                <Attribute name="type" value="6DError" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="push" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
			<Edge name="Output3DCorners" source="MultiMarker" destination="MarkerCornerPoints" displayName="3D Corners of Markers">               
                <Attribute name="type" value="3DPositionList" xsi:type="EnumAttributeReferenceType"/>
                <Attribute name="mode" value="pull" xsi:type="EnumAttributeReferenceType"/>
            </Edge>
			
			<!-- value type for error pose list missing !!! -->
			<!-- <Edge name="OutputErrorPose" source="MultiMarker" destination="MarkerCornerPoints" displayName="Error Pose of Markers"> -->              
            <!--    <Attribute name="type" value="" xsi:type="EnumAttributeReferenceType"/> -->
            <!--    <Attribute name="mode" value="pull" xsi:type="EnumAttributeReferenceType"/> -->
            <!-- </Edge> -->
			
        </Output>
        
        <DataflowConfiguration>
            <UbitrackLib class="MultiMarkerTrackerBundleAdjustment"/>
                <Attribute name="enableInnerEdgels" displayName="Enable inner edgelets" default="true" xsi:type="EnumAttributeDeclarationType">
                    <Description>
                        <h:p>
						Use inner edgelets for pose refinement. Enabling this may result in unstable pose estimation!
                        </h:p>
                    </Description>
                    <EnumValue name="false" displayName="False"/>
                    <EnumValue name="true"  displayName="True"/>
                </Attribute>
				<Attribute name="enableFindMarkers" displayName="Enable marker find" default="false" xsi:type="EnumAttributeDeclarationType">             
                    <EnumValue name="false" displayName="False"/>
                    <EnumValue name="true"  displayName="True"/>
                </Attribute>
				<Attribute name="enableFlipCheck" displayName="Enable flip check" default="true" xsi:type="EnumAttributeDeclarationType">
					<Description>
						<h:p>
						Checks whether the flipped pose of the marker is better. Requires more processing time, but is often more robust.
						</h:p>
					</Description>
					<EnumValue name="false" displayName="False"/>
					<EnumValue name="true"  displayName="True"/>
				</Attribute>
				<Attribute name="enableConsoleOutput" displayName="Enable console output" default="true" xsi:type="EnumAttributeDeclarationType">
					<Description>
						<h:p>
						For debugging only. After finishing the process, the marker bundle writes the new information to the console
						</h:p>
					</Description>
					<EnumValue name="false" displayName="False"/>
					<EnumValue name="true"  displayName="True"/>
				</Attribute>
				<Attribute name="tiltAngle" displayName="Tilt angle" default="70.0" xsi:type="DoubleAttributeDeclarationType">
					<Description>
                        <h:p>Define the max tilt angle from the center in degrees, until a marker cannot be recognized anymore. The marker can be seen in all directions (90.0°) or only from the center (0.0°).</h:p>
                    </Description>
				</Attribute>
				<Attribute name="minPixel" displayName="Min pixel" default="60" xsi:type="IntAttributeDeclarationType">
					<Description>
                        <h:p>Define the min number of pixels in x- and y-direction (image) one marker needs to have. Detection on too small markers in the image results in fault IDs.</h:p>
                    </Description>
				</Attribute>
				<Attribute name="maxImage" displayName="Max image" default="5" xsi:type="IntAttributeDeclarationType">
					<Description>
                        <h:p>Define the max number of images so that the marker bundle can start, if no new marker was found</h:p>
                    </Description>
				</Attribute>
				<Attribute name="button" value="r" displayName="Reset Marker Bundle" xsi:type="StringAttributeReferenceType"/>
        </DataflowConfiguration>
    </Pattern>
	
	<!-- pattern should be added soon, stay tuned:
	Pattern name="MarkerTrackerCameraIntrinsics" displayName="Experimental: Optical Square-Marker Tracker Camera Intrinsic Parameters">
        <Description>
            <h:p>Specifies the intrinsics camera parameters that should be applied to the marker tracker module.
			These intrinsic parameters are valid for all attached markers connected to the same camera node.
            </h:p>
        </Description>
        <Input>
            <Node name="Camera" displayName="Camera"/>
            <Node name="ImagePlane" displayName="Image Plane"/>
            <Edge name="CameraIntrinsics" displayName="Camera Intrinsics" source="ImagePlane" destination="Camera" >
                <Description>
                    <h:p>Camera intrinsic parameters.</h:p>
                </Description>
                <Predicate>type=='3x3Matrix'&amp;&amp;mode=='pull'</Predicate>
            </Edge>
        </Input>
		<DataflowConfiguration>
            <UbitrackLib class="MarkerTracker"/>
        </DataflowConfiguration>
    </Pattern-->
	
	<!-- new (experimental) patterns end here -->
    
    <!-- Attribute declarations -->
	
	
	
	
    <GlobalNodeAttributeDeclarations>
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/1/1)"/>
    </GlobalNodeAttributeDeclarations>
    
    <GlobalEdgeAttributeDeclarations>
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/1)"/>
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/2)"/>
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/3)"/>
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/4)"/>
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/5)"/>
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/6)"/>
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/7)"/>
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/2/8)"/>
    </GlobalEdgeAttributeDeclarations>
    
    <GlobalDataflowAttributeDeclarations>
        <!-- Unfortunately, the xpointer used in Xinclude is currently restricted to the element scheme and absolute element indices in Xerces (and thus XMLBeans) -->
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/3/1)"/>
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/3/2)"/>
		<xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/3/3)"/>
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/3/4)"/>
        <xi:include href="file:GlobalAttrSpec.xml" xpointer="element(/1/3/5)"/>
    </GlobalDataflowAttributeDeclarations>
    
</UTQLPatternTemplates>
